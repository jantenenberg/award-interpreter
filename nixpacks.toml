# Force Python provider so the build has Python/pip (repo also has package.json â†’ Node would win otherwise)
providers = ["python"]

[phases.setup]
nixPkgs = ["python311"]

[phases.install]
# Nix python311 has no pip; bootstrap it with ensurepip then install deps
cmds = [
  "python3 -m ensurepip --upgrade",
  "python3 -m pip install -r backend/requirements.txt"
]
